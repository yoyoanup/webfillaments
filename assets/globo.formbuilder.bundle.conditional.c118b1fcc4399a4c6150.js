"use strict";(self.webpackChunkgloboFormbuilder=self.webpackChunkgloboFormbuilder||[]).push([[406],{9847:(e,t,l)=>{l.r(t),l.d(t,{default:()=>d});var a=l(1651);const d={init:function(e){const t=e.querySelectorAll(".globo-form-app .conditional-field"),l=this;t.forEach((e=>{const t=e.getAttribute("data-connected-id"),d=e.getAttribute("data-connected-value"),i=(0,a.oq)(e,"form");let o=i.querySelectorAll('[name="'+t+'"]');o.length||(o=i.querySelectorAll('[name="'+t+'[]"]')),o.length&&o.forEach((t=>{(t.name.indexOf("select")>-1&&t.value||t.checked)&&l.handleSetConditionalField(t,e,d),t.addEventListener("change",(function(){l.handleSetConditionalField(t,e,d)}))}))}))},handleSetConditionalField:function(e,t,l){const d=this;"checkbox"==e.type?e.value===l&&(e.checked?(t.style.display="block",t.querySelectorAll("[name]").forEach((e=>{e.removeAttribute("disabled","disabled");const t=e.parentNode.querySelector(".flatpickr-mobile");t&&t.removeAttribute("disabled","disabled"),d.handleSetDefaultValue(e)}))):(t.style.display="",t.querySelectorAll("[name]").forEach((e=>{e.setAttribute("disabled","disabled")})))):"radio"==e.type?e.value===l&&e.checked?(t.style.display="block",t.querySelectorAll("[name]").forEach((e=>{e.removeAttribute("disabled","disabled");const t=e.parentNode.querySelector(".flatpickr-mobile");t&&t.removeAttribute("disabled","disabled"),d.handleSetDefaultValue(e)}))):(t.style.display="",t.querySelectorAll("[name]").forEach((e=>{e.setAttribute("disabled","disabled")}))):e.value===l?(t.style.display="block",t.querySelectorAll("[name]").forEach((e=>{e.removeAttribute("disabled","disabled");const t=e.parentNode.querySelector(".flatpickr-mobile");t&&t.removeAttribute("disabled","disabled"),d.handleSetDefaultValue(e)}))):(t.style.display="",t.querySelectorAll("[name]").forEach((e=>{e.setAttribute("disabled","disabled")})));const i=(0,a.oq)(t,".panels"),o=(0,a.oq)(t,".panel.movingIn");if(o&&(i.style.height=o.offsetHeight+"px"),"checkbox"==e.type&&!e.checked&&e.value==l||"radio"==e.type||"select-one"==e.type){const e=t.querySelectorAll("input[name],select"),l=document.createEvent("HTMLEvents");l.initEvent("change",!1,!0),e.forEach((e=>{"checkbox"==e.type||"radio"==e.type?e.checked=!1:e.value="",e.disabled?(e.disabled=!1,e.dispatchEvent(l),e.disabled=!0):e.dispatchEvent(l)}))}},handleSetDefaultValue:function(e){setTimeout((function(){const t=e.closest(".globo-form-control").getAttribute("data-default-value");if(t&&"false"!==t){const l=document.createEvent("HTMLEvents");if(l.initEvent("change",!0,!0),"select-one"===e.type)e.value=t;else if("radio"===e.type)e.value===t&&(e.checked=!0);else if(-1!==e.name.indexOf("acceptTerms"))e.checked=!0;else{t.split(",").includes(e.value)&&(e.checked=!0)}e.dispatchEvent(l)}}),10)}}}}]);